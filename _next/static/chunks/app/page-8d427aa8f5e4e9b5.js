(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{3999:(e,t,s)=>{"use strict";s.d(t,{cn:()=>l});var r=s(2596),a=s(9688);function l(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,a.QP)((0,r.$)(t))}},6488:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>eI});var r=s(5155),a=s(2115),l=s(968),i=s(2085),n=s(3999);let o=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(l.b,{ref:t,className:(0,n.cn)(o(),s),...a})});d.displayName=l.b.displayName;var c=s(5513),m=s(6474),u=s(7863),h=s(5196);let g=c.bL;c.YJ;let f=c.WT,x=a.forwardRef((e,t)=>{let{className:s,children:a,...l}=e;return(0,r.jsxs)(c.l9,{ref:t,className:(0,n.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...l,children:[a,(0,r.jsx)(c.In,{asChild:!0,children:(0,r.jsx)(m.A,{className:"h-4 w-4 opacity-50"})})]})});x.displayName=c.l9.displayName;let p=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(c.PP,{ref:t,className:(0,n.cn)("flex cursor-default items-center justify-center py-1",s),...a,children:(0,r.jsx)(u.A,{className:"h-4 w-4"})})});p.displayName=c.PP.displayName;let b=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(c.wn,{ref:t,className:(0,n.cn)("flex cursor-default items-center justify-center py-1",s),...a,children:(0,r.jsx)(m.A,{className:"h-4 w-4"})})});b.displayName=c.wn.displayName;let v=a.forwardRef((e,t)=>{let{className:s,children:a,position:l="popper",...i}=e;return(0,r.jsx)(c.ZL,{children:(0,r.jsxs)(c.UC,{ref:t,className:(0,n.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:l,...i,children:[(0,r.jsx)(p,{}),(0,r.jsx)(c.LM,{className:(0,n.cn)("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),(0,r.jsx)(b,{})]})})});v.displayName=c.UC.displayName,a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(c.JU,{ref:t,className:(0,n.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...a})}).displayName=c.JU.displayName;let j=a.forwardRef((e,t)=>{let{className:s,children:a,...l}=e;return(0,r.jsxs)(c.q7,{ref:t,className:(0,n.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...l,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(c.VF,{children:(0,r.jsx)(h.A,{className:"h-4 w-4"})})}),(0,r.jsx)(c.p4,{children:a})]})});function N(e){let{selectedScale:t,onScaleChange:s}=e;return(0,r.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(d,{htmlFor:"key-select",children:"Tonalit\xe9"}),(0,r.jsxs)(g,{value:t.key,onValueChange:e=>{s({...t,key:e})},children:[(0,r.jsx)(x,{id:"key-select",className:"w-full",children:(0,r.jsx)(f,{placeholder:"Choisir une tonalit\xe9"})}),(0,r.jsx)(v,{children:["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"].map(e=>(0,r.jsx)(j,{value:e,children:e},e))})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(d,{htmlFor:"type-select",children:"Type de gamme"}),(0,r.jsxs)(g,{value:t.type,onValueChange:e=>{s({...t,type:e})},children:[(0,r.jsx)(x,{id:"type-select",className:"w-full",children:(0,r.jsx)(f,{placeholder:"Choisir un type"})}),(0,r.jsx)(v,{children:["major","minor","harmonic minor","melodic minor"].map(e=>(0,r.jsx)(j,{value:e,children:"major"===e?"Majeure":"minor"===e?"Mineure naturelle":"harmonic minor"===e?"Mineure harmonique":"Mineure m\xe9lodique"},e))})]})]})]})}function w(e){let{scale:t,scaleNotes:s,onNoteSelect:l,selectedNote:i}=e,n=(0,a.useRef)(null);return(0,a.useEffect)(()=>{if(!n.current||0===s.length)return;let e=n.current,t=e.getContext("2d");t.clearRect(0,0,e.width,e.height),function(e,t,s){let r=s/2-20;e.strokeStyle="#000",e.lineWidth=1;for(let s=0;s<5;s++)e.beginPath(),e.moveTo(40,r+10*s),e.lineTo(t-20,r+10*s),e.stroke();(function(e,t,s,r){let a=.5;e.save(),e.translate(45,s),e.scale(a,a),e.beginPath(),e.moveTo(0,0),e.bezierCurveTo(0,-10,10,-30,0,-40),e.bezierCurveTo(-15,-55,-20,-35,-15,-25),e.bezierCurveTo(-10,-15,0,-10,5,-20),e.bezierCurveTo(10,-30,5,-45,-5,-50),e.bezierCurveTo(-15,-55,-25,-50,-30,-40),e.bezierCurveTo(-35,-25,-25,0,-10,15),e.bezierCurveTo(0,25,5,35,5,45),e.bezierCurveTo(5,55,0,65,-10,70),e.bezierCurveTo(-20,75,-30,70,-30,60),e.bezierCurveTo(-30,50,-20,40,-10,40),e.bezierCurveTo(0,40,5,45,5,55),e.bezierCurveTo(5,65,-5,75,-15,75),e.stroke(),e.restore()})(e,45,r+20,40)}(t,e.width,e.height),function(e,t,s,r,a){if(!t.length)return;let l=r/2-20,i=(s-100)/t.length,n={C:-4,"C#":-4,D:-3,"D#":-3,E:-2,F:-1,"F#":-1,G:0,"G#":0,A:1,"A#":1,B:2};t.forEach((t,s)=>{let r=80+i*s+i/2,o=n[t.name]||0,d=(t.octave-4)*7,c=l-(o+d)*10/2+30,m=a&&a.name===t.name&&a.octave===t.octave;if(e.beginPath(),e.ellipse(r,c,6,4,0,0,2*Math.PI),e.fillStyle=m?"#4f46e5":"#000",e.fill(),e.strokeStyle="#000",e.lineWidth=1,e.stroke(),e.strokeStyle=m?"#4f46e5":"#000",e.lineWidth=1.5,o+d>2?(e.beginPath(),e.moveTo(r+5,c),e.lineTo(r+5,c+35)):(e.beginPath(),e.moveTo(r-5,c),e.lineTo(r-5,c-35)),e.stroke(),e.strokeStyle="#000",e.lineWidth=1,o+d>8){for(let t=10;t<=o+d;t+=2)if(t%2==0){let s=l-10*t/2+30;e.beginPath(),e.moveTo(r-12,s),e.lineTo(r+12,s),e.stroke()}}if(o+d<0){for(let t=-2;t>=o+d;t-=2)if(t%2==0){let s=l-10*t/2+30;e.beginPath(),e.moveTo(r-12,s),e.lineTo(r+12,s),e.stroke()}}t.name.includes("#")&&(e.fillStyle=m?"#4f46e5":"#000",e.font="bold ".concat(18,"px serif"),e.fillText("#",r-20,c+6)),e.fillStyle=m?"#4f46e5":"#666",e.font="".concat(10,"px sans-serif"),e.fillText(t.octave.toString(),r-5,c-30)})}(t,s,e.width,e.height,i)},[s,i]),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("h2",{className:"text-xl font-semibold mb-4",children:["Gamme de ",t.key," ","major"===t.type?"Majeure":"minor"===t.type?"Mineure naturelle":"harmonic minor"===t.type?"Mineure harmonique":"Mineure m\xe9lodique",s.length>0&&(0,r.jsxs)("span",{className:"text-base font-normal ml-2",children:["(",s[0].name,s[0].octave," \xe0 ",s[s.length-1].name,s[s.length-1].octave,")"]})]}),(0,r.jsx)("canvas",{ref:n,width:800,height:240,className:"w-full h-auto border rounded bg-white",onClick:e=>{let t=n.current,r=t.getBoundingClientRect(),a=e.clientX-r.left;e.clientY,r.top;let i=Math.floor((a-80)/((t.width-100)/s.length));i>=0&&i<s.length&&l(s[i])}})]})}j.displayName=c.q7.displayName,a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(c.wv,{ref:t,className:(0,n.cn)("-mx-1 my-1 h-px bg-muted",s),...a})}).displayName=c.wv.displayName;let y=(0,i.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function C(e){let{className:t,variant:s,...a}=e;return(0,r.jsx)("div",{className:(0,n.cn)(y({variant:s}),t),...a})}function k(e){let{note:t}=e,[s,l]=(0,a.useState)([]),[i,n]=(0,a.useState)(!0);(0,a.useEffect)(()=>{n(!0);let e=localStorage.getItem("saxophoneFingeringImages");if(e)try{l(JSON.parse(e))}catch(e){console.error("Erreur lors du chargement des images:",e)}n(!1)},[]);let o=(0,a.useMemo)(()=>s.filter(e=>e.note===t.name&&e.octave===t.octave),[s,t.name,t.octave]),d=(0,a.useMemo)(()=>o.find(e=>!e.isAlternate),[o]),c=(0,a.useMemo)(()=>o.filter(e=>e.isAlternate).sort((e,t)=>(e.alternateNumber||0)-(t.alternateNumber||0)),[o]),m=(0,a.useMemo)(()=>d?[d,...c]:c,[d,c]);return i?(0,r.jsxs)("div",{className:"text-center p-4",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold mb-2",children:["Chargement du doigt\xe9 pour ",t.name,t.octave,"..."]}),(0,r.jsx)("div",{className:"animate-pulse h-40 bg-gray-200 rounded-md"})]}):0===m.length?(0,r.jsxs)("div",{className:"text-center p-4",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold mb-2",children:["Doigt\xe9 pour ",t.name,t.octave]}),(0,r.jsx)("p",{className:"text-gray-500",children:'Aucune image de doigt\xe9 disponible pour cette note. Veuillez t\xe9l\xe9charger une image dans l\'onglet "G\xe9rer les Images".'})]}):(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold mb-4",children:["Doigt\xe9s pour ",t.name,t.octave]}),(0,r.jsx)("div",{className:"flex flex-wrap justify-center gap-8",children:m.map((e,s)=>(0,r.jsx)("div",{className:"flex flex-col items-center mb-4",children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(C,{className:"absolute top-2 left-2 z-10",variant:e.isAlternate?"outline":"default",children:e.isAlternate?"Alternative ".concat(e.alternateNumber):"Principal"}),(0,r.jsx)("img",{src:e.dataUrl||"/placeholder.svg",alt:"Doigt\xe9 ".concat(e.isAlternate?"alternatif":"principal"," pour ").concat(t.name).concat(t.octave),className:"max-w-full h-auto max-h-[300px] object-contain",loading:"lazy"})]})},s))})]})}var T=s(7168);let S=a.forwardRef((e,t)=>{let{className:s,type:a,...l}=e;return(0,r.jsx)("input",{type:a,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...l})});S.displayName="Input";var z=s(2473);let A=z.bL,R=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(z.B8,{ref:t,className:(0,n.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...a})});R.displayName=z.B8.displayName;let E=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(z.l9,{ref:t,className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...a})});E.displayName=z.l9.displayName;let I=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(z.UC,{ref:t,className:(0,n.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...a})});I.displayName=z.UC.displayName;let P=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...a})});P.displayName="Card";let M=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",s),...a})});M.displayName="CardHeader";let F=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",s),...a})});F.displayName="CardTitle";let D=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",s),...a})});D.displayName="CardDescription";let G=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",s),...a})});G.displayName="CardContent";let V=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",s),...a})});V.displayName="CardFooter";var U=s(5339),O=s(9869),q=s(2525);let L=(0,i.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),W=a.forwardRef((e,t)=>{let{className:s,variant:a,...l}=e;return(0,r.jsx)("div",{ref:t,role:"alert",className:(0,n.cn)(L({variant:a}),s),...l})});W.displayName="Alert";let $=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("h5",{ref:t,className:(0,n.cn)("mb-1 font-medium leading-none tracking-tight",s),...a})});$.displayName="AlertTitle";let B=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("text-sm [&_p]:leading-relaxed",s),...a})});function _(){let[e,t]=(0,a.useState)([]),[s,l]=(0,a.useState)("upload"),[i,n]=(0,a.useState)(!0);(0,a.useEffect)(()=>{let e=localStorage.getItem("musicFingeringImages");if(e)try{t(JSON.parse(e))}catch(e){console.error("Erreur lors du chargement des images:",e)}},[]),(0,a.useEffect)(()=>{e.length>0?localStorage.setItem("musicFingeringImages",JSON.stringify(e)):localStorage.removeItem("musicFingeringImages")},[e]);let o=(e,t)=>{let s=new FileReader;s.onload=e=>{var s;let r=new Image;r.onload=()=>{let e=document.createElement("canvas"),s=e.getContext("2d"),a=r.width,l=r.height;a>l?a>600&&(l*=600/a,a=600):l>600&&(a*=600/l,l=600),e.width=a,e.height=l,s.drawImage(r,0,0,a,l),t(e.toDataURL("image/jpeg",.85))},r.src=null===(s=e.target)||void 0===s?void 0:s.result},s.readAsDataURL(e)},c=e=>{t(t=>{let s=[...t];return s.splice(e,1),s})};return(0,r.jsxs)("div",{className:"w-full max-w-3xl mx-auto",children:[i&&(0,r.jsxs)(W,{className:"mb-6",children:[(0,r.jsx)(U.A,{className:"h-4 w-4"}),(0,r.jsx)($,{children:"Comment nommer vos fichiers"}),(0,r.jsxs)(B,{children:[(0,r.jsx)("p",{className:"mb-2",children:"Pour que vos images de doigt\xe9s soient correctement reconnues, nommez-les selon ces formats :"}),(0,r.jsxs)("ul",{className:"list-disc pl-5 space-y-1",children:[(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Format standard :"})," Note+Octave (ex: C4.jpg, A#3.png, D#4.jpg)"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Format alternatif :"})," Note+Octave+a+Num\xe9ro (ex: C#4a1.jpg, C#4a2.jpg)"]})]}),(0,r.jsx)(T.$,{variant:"outline",size:"sm",className:"mt-2",onClick:()=>n(!1),children:"Compris"})]})]}),(0,r.jsxs)(A,{value:s,onValueChange:l,className:"w-full",children:[(0,r.jsxs)(R,{className:"grid w-full grid-cols-2",children:[(0,r.jsx)(E,{value:"upload",children:"T\xe9l\xe9charger des doigt\xe9s"}),(0,r.jsxs)(E,{value:"manage",children:["G\xe9rer les doigt\xe9s",(0,r.jsx)(C,{variant:"secondary",className:"ml-2",children:e.length})]})]}),(0,r.jsx)(I,{value:"upload",className:"mt-4",children:(0,r.jsxs)(P,{children:[(0,r.jsxs)(M,{children:[(0,r.jsx)(F,{children:"T\xe9l\xe9charger des images de doigt\xe9s"}),(0,r.jsx)(D,{children:"T\xe9l\xe9chargez vos propres images de doigt\xe9s pour votre instrument. Les noms de fichiers doivent suivre le format: Note+Octave (ex: C4, A#3) ou Note+Octave+a+Num\xe9ro pour les alternatives (ex: C#4a1)."})]}),(0,r.jsx)(G,{children:(0,r.jsx)("div",{className:"grid w-full gap-4",children:(0,r.jsxs)("div",{className:"grid w-full max-w-sm items-center gap-1.5",children:[(0,r.jsx)(d,{htmlFor:"fingering-upload",children:"Images de doigt\xe9s"}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(S,{id:"fingering-upload",type:"file",accept:"image/*",multiple:!0,onChange:e=>{let s=e.target.files;s&&0!==s.length&&(Array.from(s).forEach(e=>{o(e,s=>{let{note:r,octave:a,isAlternate:l,alternateNumber:i}=function(e){var t;let s=e.split(".")[0],r=s.match(/^([A-G][#b]?)(\d+)a(\d+)$/);if(r)return{note:r[1],octave:Number.parseInt(r[2],10),isAlternate:!0,alternateNumber:Number.parseInt(r[3],10)};let a=s.match(/^([A-G][#b]?)(\d+)$/);return a?{note:a[1],octave:Number.parseInt(a[2],10),isAlternate:!1}:(console.warn("Format de nom de fichier non reconnu: ".concat(e,". Utilisation des valeurs par d\xe9faut.")),{note:s.replace(/[^A-G#b]/g,"").substring(0,2)||"C",octave:Number.parseInt((null===(t=s.match(/\d+/))||void 0===t?void 0:t[0])||"4",10),isAlternate:s.includes("a"),alternateNumber:s.includes("a")?1:void 0})}(e.name);t(e=>[...e,{note:r,octave:a,isAlternate:l,alternateNumber:i,dataUrl:s}])})}),e.target.value="")}}),(0,r.jsx)(T.$,{variant:"outline",size:"icon",onClick:()=>{var e;return null===(e=document.getElementById("fingering-upload"))||void 0===e?void 0:e.click()},children:(0,r.jsx)(O.A,{className:"h-4 w-4"})})]})]})})}),(0,r.jsx)(V,{children:(0,r.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.length," image(s) t\xe9l\xe9charg\xe9e(s)"]})})]})}),(0,r.jsx)(I,{value:"manage",className:"mt-4",children:(0,r.jsxs)(P,{children:[(0,r.jsxs)(M,{children:[(0,r.jsx)(F,{children:"G\xe9rer les images de doigt\xe9s"}),(0,r.jsx)(D,{children:"Visualisez et g\xe9rez les images de doigt\xe9s que vous avez t\xe9l\xe9charg\xe9es."})]}),(0,r.jsx)(G,{children:e.length>0?(0,r.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:e.map((e,t)=>(0,r.jsxs)("div",{className:"relative border rounded-md overflow-hidden",children:[(0,r.jsx)("div",{className:"aspect-square relative",children:(0,r.jsx)("img",{src:e.dataUrl||"/placeholder.svg",alt:"Doigt\xe9 ".concat(e.note).concat(e.octave).concat(e.isAlternate?" (alt ".concat(e.alternateNumber,")"):""),className:"w-full h-full object-cover",loading:"lazy"})}),(0,r.jsxs)("div",{className:"p-2 bg-white flex justify-between items-center",children:[(0,r.jsxs)("span",{className:"text-sm font-medium",children:[e.note,e.octave,e.isAlternate&&(0,r.jsxs)("span",{className:"text-xs ml-1",children:["(alt ",e.alternateNumber,")"]})]}),(0,r.jsx)(T.$,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>c(t),children:(0,r.jsx)(q.A,{className:"h-4 w-4"})})]})]},t))}):(0,r.jsx)("div",{className:"text-center py-8",children:(0,r.jsx)("p",{className:"text-muted-foreground",children:"Aucune image t\xe9l\xe9charg\xe9e"})})}),(0,r.jsxs)(V,{className:"flex justify-between",children:[(0,r.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.length," image(s) t\xe9l\xe9charg\xe9e(s)"]}),e.length>0&&(0,r.jsx)(T.$,{variant:"destructive",size:"sm",onClick:()=>{confirm("\xcates-vous s\xfbr de vouloir supprimer toutes les images de doigt\xe9s ?")&&t([])},children:"Tout supprimer"})]})]})})]})]})}B.displayName="AlertDescription";var J=s(8874);let X=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsxs)(J.bL,{ref:t,className:(0,n.cn)("relative flex w-full touch-none select-none items-center",s),...a,children:[(0,r.jsx)(J.CC,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:(0,r.jsx)(J.Q6,{className:"absolute h-full bg-primary"})}),(0,r.jsx)(J.zi,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]})});X.displayName=J.bL.displayName;let H=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],Q=[2,3,4,5,6].flatMap(e=>H.map(t=>({note:t,octave:e,label:"".concat(t).concat(e)})));function Y(e){let{initialRange:t,onRangeChange:s}=e,l=(0,a.useRef)(!0),i=(0,a.useCallback)(e=>Q.findIndex(t=>t.note===e.note&&t.octave===e.octave),[]),n=i(t.start),o=i(t.end),[c,m]=(0,a.useState)(-1!==n?n:12),[u,h]=(0,a.useState)(-1!==o?o:25);return(0,a.useEffect)(()=>{if(l.current){l.current=!1;return}s({start:Q[c],end:Q[u]})},[c,u,s]),(0,a.useEffect)(()=>{let e=i(t.start),s=i(t.end);-1!==e&&e!==c&&m(e),-1!==s&&s!==u&&h(s)},[t,i,c,u]),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)(d,{children:"Plage de notes"}),(0,r.jsxs)("div",{className:"text-sm text-muted-foreground",children:[Q[c].label," \xe0 ",Q[u].label]})]}),(0,r.jsx)(X,{value:[c,u],min:0,max:Q.length-1,step:1,onValueChange:e=>{e[0]<e[1]&&(m(e[0]),h(e[1]))},className:"py-4"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(d,{htmlFor:"start-note",children:"Note de d\xe9but"}),(0,r.jsxs)(g,{value:Q[c].label,onValueChange:e=>{let t=Q.findIndex(t=>t.label===e);-1!==t&&m(Math.min(t,u-1))},children:[(0,r.jsx)(x,{id:"start-note",children:(0,r.jsx)(f,{placeholder:"S\xe9lectionner une note"})}),(0,r.jsx)(v,{children:Q.map((e,t)=>(0,r.jsx)(j,{value:e.label,disabled:t>=u,children:e.label},e.label))})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(d,{htmlFor:"end-note",children:"Note de fin"}),(0,r.jsxs)(g,{value:Q[u].label,onValueChange:e=>{let t=Q.findIndex(t=>t.label===e);-1!==t&&h(Math.max(t,c+1))},children:[(0,r.jsx)(x,{id:"end-note",children:(0,r.jsx)(f,{placeholder:"S\xe9lectionner une note"})}),(0,r.jsx)(v,{children:Q.map((e,t)=>(0,r.jsx)(j,{value:e.label,disabled:t<=c,children:e.label},e.label))})]})]})]})]})}var K=s(4884);let Z=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(K.bL,{className:(0,n.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",s),...a,ref:t,children:(0,r.jsx)(K.zi,{className:(0,n.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});Z.displayName=K.bL.displayName;var ee=s(227),et=s(1539),es=s(133),er=s(2178),ea=s(5690);function el(e){let{note:t}=e,s=(0,a.useRef)(null);return(0,a.useEffect)(()=>{if(!s.current||!t)return;let e=s.current,r=e.getContext("2d");r.clearRect(0,0,e.width,e.height),function(e,t,s){let r=s/2-16;e.strokeStyle="#000",e.lineWidth=1;for(let s=0;s<5;s++)e.beginPath(),e.moveTo(40,r+8*s),e.lineTo(t-20,r+8*s),e.stroke();(function(e,t,s,r){let a=.4;e.save(),e.translate(45,s),e.scale(a,a),e.beginPath(),e.moveTo(0,0),e.bezierCurveTo(0,-10,10,-30,0,-40),e.bezierCurveTo(-15,-55,-20,-35,-15,-25),e.bezierCurveTo(-10,-15,0,-10,5,-20),e.bezierCurveTo(10,-30,5,-45,-5,-50),e.bezierCurveTo(-15,-55,-25,-50,-30,-40),e.bezierCurveTo(-35,-25,-25,0,-10,15),e.bezierCurveTo(0,25,5,35,5,45),e.bezierCurveTo(5,55,0,65,-10,70),e.bezierCurveTo(-20,75,-30,70,-30,60),e.bezierCurveTo(-30,50,-20,40,-10,40),e.bezierCurveTo(0,40,5,45,5,55),e.bezierCurveTo(5,65,-5,75,-15,75),e.stroke(),e.restore()})(e,45,r+16,32)}(r,e.width,e.height),function(e,t,s,r){if(!t)return;let a=r/2-16,l=s/2,i={C:-4,"C#":-4,D:-3,"D#":-3,E:-2,F:-1,"F#":-1,G:0,"G#":0,A:1,"A#":1,B:2}[t.name]||0,n=(t.octave-4)*7,o=a-(i+n)*8/2+24;if(e.beginPath(),e.ellipse(l,o,4.8,3.2,0,0,2*Math.PI),e.fillStyle="#000",e.fill(),e.strokeStyle="#000",e.lineWidth=1,e.stroke(),e.strokeStyle="#000",e.lineWidth=1.5,i+n>2?(e.beginPath(),e.moveTo(l+4,o),e.lineTo(l+4,o+28)):(e.beginPath(),e.moveTo(l-4,o),e.lineTo(l-4,o-28)),e.stroke(),e.strokeStyle="#000",e.lineWidth=1,i+n>8){for(let t=10;t<=i+n;t+=2)if(t%2==0){let s=a-8*t/2+24;e.beginPath(),e.moveTo(l-9.6,s),e.lineTo(l+9.6,s),e.stroke()}}if(i+n<0){for(let t=-2;t>=i+n;t-=2)if(t%2==0){let s=a-8*t/2+24;e.beginPath(),e.moveTo(l-9.6,s),e.lineTo(l+9.6,s),e.stroke()}}t.name.includes("#")&&(e.fillStyle="#000",e.font="bold ".concat(14.4,"px serif"),e.fillText("#",l-16,o+4.8))}(r,t,e.width,e.height)},[t]),(0,r.jsx)("canvas",{ref:s,width:200,height:120,className:"w-full max-w-[200px] h-auto mx-auto"})}let ei=[{label:"Lent",value:60},{label:"Mod\xe9r\xe9",value:90},{label:"Allegro",value:120},{label:"Rapide",value:144}],en={PREVIOUS:"previous",CURRENT:"current",NEXT:"next"};function eo(e){let t,{scaleNotes:s,filteredNotes:l}=e,[i,n]=(0,a.useState)(!1),[o,c]=(0,a.useState)(90),[m,u]=(0,a.useState)(!0),[h,g]=(0,a.useState)(null),[f,x]=(0,a.useState)(!0),[p,b]=(0,a.useState)(!0),[v,j]=(0,a.useState)(!0),[N,w]=(0,a.useState)([]),[y,C]=(0,a.useState)(0),S=(0,a.useRef)(null),z=l.length>0?l:s,A=6e4/o,R=()=>{if(0===z.length)return null;if(m){let e=Math.floor(Math.random()*z.length);return z[e]}{var e;if(0===N.length)return z[0];let t=null===(e=N.find(e=>e.position===en.CURRENT))||void 0===e?void 0:e.note;if(!t)return z[0];let s=(z.findIndex(e=>e.name===t.name&&e.octave===t.octave)+1)%z.length;return z[s]}},E=()=>{let e=R();e&&(w(t=>{var s,r;if(t.length<3){let s=0===t.length?en.CURRENT:1===t.length?en.NEXT:en.PREVIOUS;return[...t,{note:e,position:s}]}let a=null===(s=t.find(e=>e.position===en.CURRENT))||void 0===s?void 0:s.note,l=null===(r=t.find(e=>e.position===en.NEXT))||void 0===r?void 0:r.note;return[{note:a,position:en.PREVIOUS},{note:l,position:en.CURRENT},{note:e,position:en.NEXT}]}),C(e=>e+1))},I=()=>{n(!0),C(0);let e=R(),t=R(),s=R();e&&t&&s&&w([{note:e,position:en.PREVIOUS},{note:t,position:en.CURRENT},{note:s,position:en.NEXT}]),S.current=setInterval(()=>{E()},A)},U=()=>{n(!1),S.current&&(clearInterval(S.current),S.current=null)};return((0,a.useEffect)(()=>{i&&(U(),I())},[o,m]),(0,a.useEffect)(()=>()=>{S.current&&clearInterval(S.current)},[]),0===z.length)?(0,r.jsx)(P,{className:"bg-gradient-to-br from-indigo-50 to-purple-50 border-2 border-indigo-200 shadow-lg",children:(0,r.jsxs)(M,{className:"bg-gradient-to-r from-indigo-500 to-purple-500 text-white",children:[(0,r.jsx)(F,{children:"Pratique des gammes"}),(0,r.jsx)(D,{className:"text-indigo-100",children:"Aucune note disponible dans la plage s\xe9lectionn\xe9e."})]})}):(0,r.jsxs)(P,{className:"bg-gradient-to-br from-indigo-50 to-purple-50 border-2 border-indigo-200 shadow-lg overflow-hidden",children:[(0,r.jsxs)(M,{className:"bg-gradient-to-r from-indigo-500 to-purple-500 text-white",children:[(0,r.jsxs)(F,{className:"flex items-center gap-2",children:[(0,r.jsx)(ee.A,{className:"h-6 w-6"}),"Pratique des gammes"]}),(0,r.jsx)(D,{className:"text-indigo-100",children:"Entra\xeenez-vous \xe0 jouer les notes de la gamme \xe0 un tempo d\xe9fini"})]}),(0,r.jsxs)(G,{className:"space-y-6 p-6",children:[h&&(0,r.jsx)("div",{className:"flex justify-center items-center h-40",children:(0,r.jsx)("div",{className:"text-7xl font-bold bg-gradient-to-r from-indigo-500 to-purple-500 text-transparent bg-clip-text animate-pulse",children:h})}),!h&&N.length>0&&(0,r.jsxs)("div",{className:"relative rounded-xl bg-white overflow-hidden shadow-md border-2 border-indigo-200",style:{height:"".concat((t=100,p&&(t+=120),v&&(t+=300),t),"px")},children:[(0,r.jsxs)("div",{className:"absolute top-2 right-2 bg-indigo-100 rounded-full px-3 py-1 text-xs font-semibold text-indigo-700 flex items-center gap-1 z-10",children:[(0,r.jsx)(et.A,{className:"h-3 w-3 ".concat(y%2==0?"text-yellow-500":"text-indigo-500")}),o," BPM"]}),(0,r.jsx)("div",{className:"grid grid-cols-3 h-full w-full",children:N.map((e,t)=>{let s=e.position===en.CURRENT;return(0,r.jsx)("div",{className:"transition-all duration-500 ease-in-out flex items-center justify-center\n                      ".concat(s?"opacity-100 scale-100 z-20":e.position===en.PREVIOUS?"opacity-40 scale-85 -translate-x-4 z-10":"opacity-40 scale-85 translate-x-4 z-10"),children:(0,r.jsxs)("div",{className:"flex flex-col items-center p-4 w-full rounded-lg ".concat(s?"bg-gradient-to-b from-indigo-50 to-white shadow-md":""),children:[f&&(0,r.jsxs)("div",{className:"text-6xl font-bold mb-4 transition-all duration-300 ".concat(s?"bg-gradient-to-r from-indigo-600 to-purple-600 text-transparent bg-clip-text":"text-gray-400"),children:[e.note.name,(0,r.jsx)("span",{className:"text-3xl",children:e.note.octave})]}),p&&(0,r.jsx)("div",{className:"w-full max-w-xs mb-4 transition-all duration-300 ".concat(s?"transform scale-110":"opacity-70"),children:(0,r.jsx)(el,{note:e.note})}),v&&s&&(0,r.jsx)("div",{className:"w-full max-w-xs animate-fadeIn",children:(0,r.jsx)(k,{note:e.note})})]})},"".concat(e.note.name).concat(e.note.octave,"-").concat(t))})})]}),(0,r.jsxs)("div",{className:"space-y-4 bg-white p-4 rounded-lg shadow-sm border border-indigo-100",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)(d,{htmlFor:"tempo-slider",className:"text-indigo-700 font-semibold flex items-center gap-2",children:[(0,r.jsx)(ee.A,{className:"h-4 w-4"}),"Tempo: ",o," BPM"]}),(0,r.jsx)("div",{className:"flex gap-2 flex-wrap",children:ei.map(e=>(0,r.jsx)(T.$,{variant:o===e.value?"default":"outline",size:"sm",onClick:()=>c(e.value),disabled:i,className:o===e.value?"bg-gradient-to-r from-indigo-500 to-purple-500 border-none":"border-indigo-200 text-indigo-700 hover:bg-indigo-50",children:e.label},e.value))})]}),(0,r.jsx)(X,{id:"tempo-slider",min:40,max:200,step:1,value:[o],onValueChange:e=>c(e[0]),disabled:i,className:"py-4"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-indigo-100 flex items-center space-x-2",children:[(0,r.jsx)(Z,{id:"random-mode",checked:m,onCheckedChange:u,disabled:i,className:"data-[state=checked]:bg-indigo-500"}),(0,r.jsxs)(d,{htmlFor:"random-mode",className:"font-medium",children:["Mode ",m?"al\xe9atoire":"s\xe9quentiel"]})]}),(0,r.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-indigo-100 flex items-center space-x-2",children:[(0,r.jsx)(Z,{id:"show-letter",checked:f,onCheckedChange:x,className:"data-[state=checked]:bg-indigo-500"}),(0,r.jsx)(d,{htmlFor:"show-letter",className:"font-medium",children:"Afficher la note (lettre)"})]}),(0,r.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-indigo-100 flex items-center space-x-2",children:[(0,r.jsx)(Z,{id:"show-staff",checked:p,onCheckedChange:b,className:"data-[state=checked]:bg-indigo-500"}),(0,r.jsx)(d,{htmlFor:"show-staff",className:"font-medium",children:"Afficher la partition"})]}),(0,r.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-indigo-100 flex items-center space-x-2",children:[(0,r.jsx)(Z,{id:"show-fingering",checked:v,onCheckedChange:j,className:"data-[state=checked]:bg-indigo-500"}),(0,r.jsx)(d,{htmlFor:"show-fingering",className:"font-medium",children:"Afficher les doigt\xe9s"})]})]})]}),(0,r.jsxs)(V,{className:"flex justify-between p-6 bg-gradient-to-r from-indigo-100 to-purple-100",children:[(0,r.jsxs)(T.$,{variant:"outline",onClick:()=>{U(),w([]),C(0)},disabled:!i,className:"border-indigo-300 text-indigo-700 hover:bg-indigo-50",children:[(0,r.jsx)(es.A,{className:"mr-2 h-4 w-4"}),"R\xe9initialiser"]}),(0,r.jsx)(T.$,{onClick:i?U:()=>{g(3);let e=setInterval(()=>{g(t=>t<=1?(clearInterval(e),I(),null):t-1)},1e3)},disabled:0===z.length,className:"bg-gradient-to-r from-indigo-500 to-purple-500 hover:from-indigo-600 hover:to-purple-600 shadow-md",children:i?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(er.A,{className:"mr-2 h-4 w-4"}),"Pause"]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ea.A,{className:"mr-2 h-4 w-4"}),"D\xe9marrer"]})})]})]})}var ed=s(825),ec=s(1788);function em(e){let{scaleNotes:t,scaleName:s}=e,l=(0,a.useRef)(null),[i,n]=(0,a.useState)(4),[o,c]=(0,a.useState)(12),[m,u]=(0,a.useState)(!1),[h,g]=(0,a.useState)([]);return(0,a.useEffect)(()=>{if(t&&0!==t.length){if(m){let e=i*o,s=[];for(let r=0;r<e;r++){let e=Math.floor(Math.random()*t.length);s.push(t[e])}g(s)}else{let e=i*o,s=[];for(;s.length<e;)s=[...s,...t];g(s.slice(0,e))}}},[t,i,o,m]),(0,a.useEffect)(()=>{if(!l.current||0===h.length)return;let e=l.current,t=e.getContext("2d");e.height=150*i+50,t.clearRect(0,0,e.width,e.height),function(e,t,s,r,a,l,i){e.fillStyle="#ffffff",e.fillRect(0,0,t,s),e.fillStyle="#4338ca",e.font="bold 20px Arial",e.textAlign="center",e.fillText("Gamme de ".concat(a),t/2,30);for(let s=0;s<l;s++){let a=60+150*s;(function(e,t,s,r){e.strokeStyle="#4338ca",e.lineWidth=1;for(let a=0;a<5;a++)e.beginPath(),e.moveTo(40,s+10*a),e.lineTo(t-40,s+a*r),e.stroke();(function(e,t,s,r){let a=r/80;e.save(),e.translate(60,s),e.scale(a,a),e.strokeStyle="#4338ca",e.lineWidth=2,e.beginPath(),e.moveTo(0,0),e.bezierCurveTo(0,-10,10,-30,0,-40),e.bezierCurveTo(-15,-55,-20,-35,-15,-25),e.bezierCurveTo(-10,-15,0,-10,5,-20),e.bezierCurveTo(10,-30,5,-45,-5,-50),e.bezierCurveTo(-15,-55,-25,-50,-30,-40),e.bezierCurveTo(-35,-25,-25,0,-10,15),e.bezierCurveTo(0,25,5,35,5,45),e.bezierCurveTo(5,55,0,65,-10,70),e.bezierCurveTo(-20,75,-30,70,-30,60),e.bezierCurveTo(-30,50,-20,40,-10,40),e.bezierCurveTo(0,40,5,45,5,55),e.bezierCurveTo(5,65,-5,75,-15,75),e.stroke(),e.restore()})(e,60,s+2*r,4*r)})(e,t,a,10),function(e,t,s,r,a,l){let i={C:-4,"C#":-4,D:-3,"D#":-3,E:-2,F:-1,"F#":-1,G:0,"G#":0,A:1,"A#":1,B:2},n=30;t.forEach((t,r)=>{let o=100+r*a,d=i[t.name]||0,c=(t.octave-4)*7,m=s-(d+c)*l/2+n;if(e.beginPath(),e.ellipse(o,m,.6*l,.4*l,0,0,2*Math.PI),e.fillStyle="#4338ca",e.fill(),e.strokeStyle="#4338ca",e.lineWidth=1,e.stroke(),e.strokeStyle="#4338ca",e.lineWidth=1.5,d+c>2?(e.beginPath(),e.moveTo(o+.5*l,m),e.lineTo(o+.5*l,m+3.5*l)):(e.beginPath(),e.moveTo(o-.5*l,m),e.lineTo(o-.5*l,m-3.5*l)),e.stroke(),e.strokeStyle="#4338ca",e.lineWidth=1,d+c>8){for(let t=10;t<=d+c;t+=2)if(t%2==0){let r=s-t*l/2+n;e.beginPath(),e.moveTo(o-1.2*l,r),e.lineTo(o+1.2*l,r),e.stroke()}}if(d+c<0){for(let t=-2;t>=d+c;t-=2)if(t%2==0){let r=s-t*l/2+n;e.beginPath(),e.moveTo(o-1.2*l,r),e.lineTo(o+1.2*l,r),e.stroke()}}t.name.includes("#")&&(e.fillStyle="#4338ca",e.font="bold ".concat(1.8*l,"px serif"),e.fillText("#",o-2*l,m+.6*l))})}(e,r.slice(s*i,(s+1)*i),a,100,(t-120)/i,10)}}(t,e.width,e.height,h,s,i,o)},[h,s,i,o]),(0,r.jsxs)(P,{className:"w-full bg-gradient-to-br from-indigo-50 to-purple-50 border-2 border-indigo-200 shadow-lg overflow-hidden",children:[(0,r.jsxs)(M,{className:"bg-gradient-to-r from-indigo-500 to-purple-500 text-white",children:[(0,r.jsxs)(F,{className:"flex items-center gap-2",children:[(0,r.jsx)(ee.A,{className:"h-6 w-6"}),"Partition de la gamme"]}),(0,r.jsx)(D,{className:"text-indigo-100",children:"Visualisez et t\xe9l\xe9chargez la partition compl\xe8te de la gamme s\xe9lectionn\xe9e"})]}),(0,r.jsxs)(G,{className:"p-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,r.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-indigo-100 space-y-2",children:[(0,r.jsx)(d,{htmlFor:"lines-count",className:"text-indigo-700 font-semibold",children:"Nombre de lignes"}),(0,r.jsx)(S,{id:"lines-count",type:"number",min:"1",max:"10",value:i,onChange:e=>n(Number.parseInt(e.target.value)||1),className:"border-indigo-200 focus:ring-indigo-500"})]}),(0,r.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-indigo-100 space-y-2",children:[(0,r.jsx)(d,{htmlFor:"notes-per-line",className:"text-indigo-700 font-semibold",children:"Notes par ligne"}),(0,r.jsx)(S,{id:"notes-per-line",type:"number",min:"1",max:"24",value:o,onChange:e=>c(Number.parseInt(e.target.value)||1),className:"border-indigo-200 focus:ring-indigo-500"})]}),(0,r.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-indigo-100 flex items-center space-x-2",children:[(0,r.jsx)(Z,{id:"random-notes",checked:m,onCheckedChange:u,className:"data-[state=checked]:bg-indigo-500"}),(0,r.jsx)(d,{htmlFor:"random-notes",className:"font-medium",children:"Notes al\xe9atoires"})]}),m&&(0,r.jsx)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-indigo-100",children:(0,r.jsxs)(T.$,{onClick:()=>{if(!t||0===t.length||!m)return;let e=i*o,s=[];for(let r=0;r<e;r++){let e=Math.floor(Math.random()*t.length);s.push(t[e])}g(s)},variant:"outline",className:"w-full border-indigo-300 text-indigo-700 hover:bg-indigo-50",children:[(0,r.jsx)(ed.A,{className:"mr-2 h-4 w-4"}),"G\xe9n\xe9rer de nouvelles notes"]})})]}),(0,r.jsx)("div",{className:"bg-white p-4 rounded-lg shadow-md border-2 border-indigo-200 overflow-x-auto",children:(0,r.jsx)("canvas",{ref:l,width:Math.max(800,50*o+100),height:150*i+50,className:"w-full h-auto"})})]}),(0,r.jsx)(V,{className:"flex justify-between p-6 bg-gradient-to-r from-indigo-100 to-purple-100",children:(0,r.jsxs)(T.$,{onClick:()=>{if(!l.current)return;let e=l.current.toDataURL("image/png"),t=document.createElement("a");t.href=e,t.download="gamme_".concat(s.replace(/\s+/g,"_"),".png"),document.body.appendChild(t),t.click(),document.body.removeChild(t)},className:"ml-auto bg-gradient-to-r from-indigo-500 to-purple-500 hover:from-indigo-600 hover:to-purple-600 shadow-md",children:[(0,r.jsx)(ec.A,{className:"mr-2 h-4 w-4"}),"T\xe9l\xe9charger la partition"]})})]})}var eu=s(8577);let eh=a.forwardRef((e,t)=>{let{className:s,children:a,...l}=e;return(0,r.jsxs)(eu.bL,{ref:t,className:(0,n.cn)("relative overflow-hidden",s),...l,children:[(0,r.jsx)(eu.LM,{className:"h-full w-full rounded-[inherit]",children:a}),(0,r.jsx)(eg,{}),(0,r.jsx)(eu.OK,{})]})});eh.displayName=eu.bL.displayName;let eg=a.forwardRef((e,t)=>{let{className:s,orientation:a="vertical",...l}=e;return(0,r.jsx)(eu.VM,{ref:t,orientation:a,className:(0,n.cn)("flex touch-none select-none transition-colors","vertical"===a&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===a&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",s),...l,children:(0,r.jsx)(eu.lr,{className:"relative flex-1 rounded-full bg-border"})})});function ef(e){let{notes:t,selectedNote:s,onNoteSelect:l}=e,i=(0,a.useRef)(null),n=(0,a.useRef)(null);(0,a.useEffect)(()=>{if(n.current&&i.current){let e=i.current,t=n.current,s=e.offsetWidth,r=t.offsetLeft,a=t.offsetWidth;e.scrollTo({left:r-s/2+a/2,behavior:"smooth"})}},[s]);let o=(e,t)=>e&&t&&e.name===t.name&&e.octave===t.octave;return(0,r.jsx)("div",{className:"w-full mt-6",children:(0,r.jsxs)(eh,{className:"w-full whitespace-nowrap rounded-md border",children:[(0,r.jsx)("div",{className:"flex p-4 gap-2",ref:i,children:t.map((e,t)=>(0,r.jsxs)(T.$,{ref:o(e,s)?n:null,variant:o(e,s)?"default":"outline",className:"min-w-[60px] h-14 flex flex-col items-center justify-center p-1",onClick:()=>l(e),children:[(0,r.jsx)("span",{className:"text-lg font-bold",children:e.name}),(0,r.jsx)("span",{className:"text-xs",children:e.octave})]},"".concat(e.name).concat(e.octave,"-").concat(t)))}),(0,r.jsx)(eg,{orientation:"horizontal"})]})})}eg.displayName=eu.VM.displayName;var ex=s(7489);let ep=a.forwardRef((e,t)=>{let{className:s,orientation:a="horizontal",decorative:l=!0,...i}=e;return(0,r.jsx)(ex.b,{ref:t,decorative:l,orientation:a,className:(0,n.cn)("shrink-0 bg-border","horizontal"===a?"h-[1px] w-full":"h-full w-[1px]",s),...i})});ep.displayName=ex.b.displayName;let eb={key:"C",type:"major"},ev={start:{note:"B",octave:3,label:"B3"},end:{note:"C",octave:5,label:"C5"}},ej="scales";var eN=s(1976),ew=s(2894),ey=s(9099),eC=s(463),ek=s(1264),eT=s(7312),eS=s(6874),ez=s.n(eS),eA=s(6766);function eR(){return(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)(P,{className:"bg-gradient-to-br from-indigo-50 to-purple-50 border-2 border-indigo-200 shadow-lg overflow-hidden",children:[(0,r.jsxs)(M,{className:"bg-gradient-to-r from-indigo-500 to-purple-500 text-white",children:[(0,r.jsxs)(F,{className:"flex items-center gap-2",children:[(0,r.jsx)(eN.A,{className:"h-6 w-6"}),"\xc0 propos du d\xe9veloppeur"]}),(0,r.jsx)(D,{className:"text-indigo-100",children:"Informations sur le cr\xe9ateur de cette application"})]}),(0,r.jsx)(G,{className:"p-6 space-y-6",children:(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-8 items-center",children:[(0,r.jsx)("div",{className:"w-32 h-32 rounded-full overflow-hidden bg-gradient-to-br from-indigo-400 to-purple-500 flex items-center justify-center text-white text-4xl font-bold",children:"HT"}),(0,r.jsxs)("div",{className:"flex-1 text-center md:text-left",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 text-transparent bg-clip-text mb-2",children:"Huggo Tricottet"}),(0,r.jsx)("p",{className:"text-gray-600 mb-4",children:"D\xe9veloppeur passionn\xe9 de musique. Cette application a \xe9t\xe9 cr\xe9\xe9e pour aider les musiciens \xe0 apprendre et pratiquer leurs gammes de mani\xe8re interactive, quel que soit leur instrument."}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-3 justify-center md:justify-start",children:[(0,r.jsx)(T.$,{variant:"outline",size:"sm",className:"flex items-center gap-2 border-indigo-300 hover:bg-indigo-50",asChild:!0,children:(0,r.jsxs)(ez(),{href:"https://www.linkedin.com/in/huggo-tricottet-3b19691a9/",target:"_blank",rel:"noopener noreferrer",children:[(0,r.jsx)(ew.A,{className:"h-4 w-4"}),"LinkedIn"]})}),(0,r.jsx)(T.$,{variant:"outline",size:"sm",className:"flex items-center gap-2 border-indigo-300 hover:bg-indigo-50",asChild:!0,children:(0,r.jsxs)(ez(),{href:"https://github.com/hauretax",target:"_blank",rel:"noopener noreferrer",children:[(0,r.jsx)(ey.A,{className:"h-4 w-4"}),"GitHub"]})})]})]})]})})]}),(0,r.jsxs)(P,{className:"bg-gradient-to-br from-green-50 to-emerald-50 border-2 border-green-200 shadow-lg overflow-hidden",children:[(0,r.jsxs)(M,{className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white",children:[(0,r.jsxs)(F,{className:"flex items-center gap-2",children:[(0,r.jsx)(eC.A,{className:"h-6 w-6"}),"Proposer une am\xe9lioration"]}),(0,r.jsx)(D,{className:"text-green-100",children:"Aidez \xe0 am\xe9liorer cette application avec vos id\xe9es"})]}),(0,r.jsx)(G,{className:"p-6",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("p",{className:"mb-6 text-gray-700",children:"Vous avez une id\xe9e pour am\xe9liorer cette application ? Une fonctionnalit\xe9 que vous aimeriez voir ajout\xe9e ? Un bug \xe0 signaler ? N'h\xe9sitez pas \xe0 me contacter !"}),(0,r.jsx)("div",{className:"bg-gray-100 p-4 rounded-lg inline-block",children:(0,r.jsxs)("p",{className:"font-medium text-gray-800 flex items-center justify-center gap-2",children:[(0,r.jsx)(ek.A,{className:"h-5 w-5 text-green-600"}),(0,r.jsx)("span",{children:"huggotrico@protonmail.ch"})]})})]})})]}),(0,r.jsxs)(P,{className:"bg-gradient-to-br from-amber-50 to-yellow-50 border-2 border-amber-200 shadow-lg overflow-hidden",children:[(0,r.jsxs)(M,{className:"bg-gradient-to-r from-amber-500 to-yellow-500 text-white",children:[(0,r.jsxs)(F,{className:"flex items-center gap-2",children:[(0,r.jsx)(eT.A,{className:"h-6 w-6"}),"Soutenez ce projet"]}),(0,r.jsx)(D,{className:"text-amber-100",children:"Si cette application vous est utile, vous pouvez soutenir son d\xe9veloppement"})]}),(0,r.jsx)(G,{className:"p-6",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("p",{className:"mb-6 text-gray-700",children:"Le d\xe9veloppement et la maintenance de cette application sont r\xe9alis\xe9s sur mon temps libre. Si vous trouvez cette application utile pour votre pratique musicale, vous pouvez me soutenir en m'offrant un caf\xe9 !"}),(0,r.jsx)(T.$,{className:"bg-gradient-to-r from-amber-500 to-yellow-500 hover:from-amber-600 hover:to-yellow-600 shadow-md",asChild:!0,children:(0,r.jsxs)(ez(),{href:"https://paypal.me/tricottethuggo",target:"_blank",rel:"noopener noreferrer",children:[(0,r.jsx)(eT.A,{className:"mr-2 h-5 w-5"}),"M'offrir un caf\xe9"]})})]})})]}),(0,r.jsxs)(P,{className:"bg-gradient-to-br from-blue-50 to-cyan-50 border-2 border-blue-200 shadow-lg overflow-hidden",children:[(0,r.jsxs)(M,{className:"bg-gradient-to-r from-blue-500 to-cyan-500 text-white",children:[(0,r.jsxs)(F,{className:"flex items-center gap-2",children:[(0,r.jsx)(ee.A,{className:"h-6 w-6"}),"\xc0 propos de l'application"]}),(0,r.jsx)(D,{className:"text-blue-100",children:"Informations sur cette application de gammes musicales"})]}),(0,r.jsxs)(G,{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex flex-col md:flex-row items-center gap-6 mb-6",children:[(0,r.jsx)("div",{className:"w-32 h-32 relative",children:(0,r.jsx)(eA.default,{src:"/logo.png",alt:"Logo de l'application",width:128,height:128,className:"rounded-xl"})}),(0,r.jsx)("div",{className:"space-y-4",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold text-lg mb-2",children:"Fonctionnalit\xe9s"}),(0,r.jsxs)("ul",{className:"list-disc pl-5 space-y-1 text-gray-700",children:[(0,r.jsx)("li",{children:"Visualisation des gammes sur partition avec notation musicale"}),(0,r.jsx)("li",{children:"Doigt\xe9s personnalisables pour diff\xe9rents instruments"}),(0,r.jsx)("li",{children:"Mode pratique avec tempo ajustable"}),(0,r.jsx)("li",{children:"G\xe9n\xe9rateur de partitions pour l'impression"}),(0,r.jsx)("li",{children:"Application installable sur mobile (PWA)"})]})]})})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold text-lg mb-2",children:"Technologies utilis\xe9es"}),(0,r.jsxs)("ul",{className:"list-disc pl-5 space-y-1 text-gray-700",children:[(0,r.jsx)("li",{children:"Next.js et React"}),(0,r.jsx)("li",{children:"Tailwind CSS pour le design"}),(0,r.jsx)("li",{children:"Canvas API pour le rendu des partitions"}),(0,r.jsx)("li",{children:"Progressive Web App (PWA) pour l'installation sur mobile"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold text-lg mb-2",children:"Version"}),(0,r.jsx)("p",{className:"text-gray-700",children:"Version 1.0.0 - Mai 2025"})]})]})]}),(0,r.jsx)(V,{className:"bg-gradient-to-r from-blue-100 to-cyan-100 p-4",children:(0,r.jsx)("p",{className:"text-sm text-gray-600 w-full text-center",children:"\xa9 2025 Huggo Tricottet - Tous droits r\xe9serv\xe9s"})})]})]})}let eE=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];function eI(){let e=(0,a.useRef)(!0),{scale:t,range:s,activeTab:l}=function(){let e=eb,t=ev,s=ej;try{let r=localStorage.getItem("saxophoneSelectedScale");r&&(e=JSON.parse(r));let a=localStorage.getItem("saxophoneNoteRange");a&&(t=JSON.parse(a));let l=localStorage.getItem("saxophoneActiveTab");l&&(s=l,"scales"!==s&&"about"!==s&&(s=ej))}catch(e){console.error("Erreur lors du chargement des donn\xe9es:",e)}return{scale:e,range:t,activeTab:s}}(),[i,n]=(0,a.useState)(l),[o,d]=(0,a.useState)(t),[c,m]=(0,a.useState)(s),[u,h]=(0,a.useState)(null),[g,f]=(0,a.useState)([]),[x,p]=(0,a.useState)([]);(0,a.useEffect)(()=>{if(e.current)e.current=!1;else localStorage.setItem("saxophoneSelectedScale",JSON.stringify(o)),localStorage.setItem("saxophoneNoteRange",JSON.stringify(c)),localStorage.setItem("saxophoneActiveTab",i)},[o,c,i]);let b=(0,a.useCallback)((e,t)=>{let s={major:[0,2,4,5,7,9,11,12,14,16,17,19,21,23,24],minor:[0,2,3,5,7,8,10,12,14,15,17,19,20,22,24],"harmonic minor":[0,2,3,5,7,8,11,12,14,15,17,19,20,23,24],"melodic minor":[0,2,3,5,7,9,11,12,14,15,17,19,21,23,24]},r=eE.indexOf(e);return -1===r?[]:(s[t]||s.major).map(e=>({name:eE[(r+e)%12],octave:Math.floor((r+e)/12)+3,position:e}))},[]),v=(0,a.useCallback)((e,t)=>{let s=12*t.start.octave+eE.indexOf(t.start.note),r=12*t.end.octave+eE.indexOf(t.end.note);return e.filter(e=>{let t=12*e.octave+eE.indexOf(e.name);return t>=s&&t<=r})},[]);(0,a.useEffect)(()=>{let e=b(o.key,o.type);f(e),p(v(e,c))},[o,c,b,v]),(0,a.useEffect)(()=>{x.length>0?u&&x.some(e=>e.name===u.name&&e.octave===u.octave)||h(x[0]):h(null)},[x,u]);let j=(0,a.useCallback)(e=>{d(e)},[]),y=(0,a.useCallback)(e=>{m(e)},[]),C=()=>(0,r.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"S\xe9lection de la gamme"}),(0,r.jsx)(N,{selectedScale:o,onScaleChange:j})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Plage de notes"}),(0,r.jsx)(Y,{initialRange:c,onRangeChange:y})]})]});return(0,r.jsx)("main",{className:"min-h-screen bg-white p-4 md:p-8",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-center mb-8",children:"Gammes Musicales"}),(0,r.jsxs)(A,{value:i,onValueChange:n,className:"w-full mb-8",children:[(0,r.jsxs)(R,{className:"grid w-full grid-cols-4",children:[(0,r.jsx)(E,{value:"scales",children:"Gammes et Doigt\xe9s"}),(0,r.jsx)(E,{value:"practice",children:"Pratique"}),(0,r.jsx)(E,{value:"upload",children:"G\xe9rer les Images"}),(0,r.jsx)(E,{value:"about",children:"\xc0 propos"})]}),(0,r.jsx)(I,{value:"scales",className:"mt-4",children:(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsx)(C,{}),(0,r.jsx)(ep,{}),(0,r.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg shadow-sm",children:[(0,r.jsx)(w,{scale:o,scaleNotes:x,onNoteSelect:h,selectedNote:u}),(0,r.jsx)(ef,{notes:x,selectedNote:u,onNoteSelect:h})]}),u&&(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsx)(k,{note:u})}),(0,r.jsxs)("div",{className:"text-sm text-gray-600 bg-gray-50 p-4 rounded-lg",children:[(0,r.jsx)("h2",{className:"font-semibold mb-2",children:"\xc0 propos des doigt\xe9s :"}),(0,r.jsx)("p",{children:'Vous pouvez t\xe9l\xe9charger vos propres images de doigt\xe9s pour votre instrument dans l\'onglet "G\xe9rer les Images". Nommez vos fichiers selon le format Note+Octave (ex: C4.jpg) ou Note+Octave+a+Num\xe9ro pour les doigt\xe9s alternatifs (ex: C#4a1.jpg).'})]})]})}),(0,r.jsx)(I,{value:"practice",className:"mt-4",children:(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsx)(C,{}),(0,r.jsx)(ep,{}),(0,r.jsx)(eo,{scaleNotes:g,filteredNotes:x}),(0,r.jsx)(ep,{}),(0,r.jsx)(em,{scaleNotes:x,scaleName:"".concat(o.key," ").concat({major:"Majeure",minor:"Mineure naturelle","harmonic minor":"Mineure harmonique","melodic minor":"Mineure m\xe9lodique"}[o.type]||o.type)})]})}),(0,r.jsx)(I,{value:"upload",className:"mt-4",children:(0,r.jsx)(_,{})}),(0,r.jsx)(I,{value:"about",className:"mt-4",children:(0,r.jsx)(eR,{})})]})]})})}},6666:(e,t,s)=>{Promise.resolve().then(s.bind(s,6488))},7168:(e,t,s)=>{"use strict";s.d(t,{$:()=>d});var r=s(5155),a=s(2115),l=s(9708),i=s(2085),n=s(3999);let o=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,t)=>{let{className:s,variant:a,size:i,asChild:d=!1,...c}=e,m=d?l.DX:"button";return(0,r.jsx)(m,{className:(0,n.cn)(o({variant:a,size:i,className:s})),ref:t,...c})});d.displayName="Button"}},e=>{var t=t=>e(e.s=t);e.O(0,[455,714,441,684,358],()=>t(6666)),_N_E=e.O()}]);